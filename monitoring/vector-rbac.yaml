apiVersion: v1
kind: ServiceAccount
metadata:
 name: vector
 namespace: ahmad-monitoring
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
 name: vector-role
rules:
 - apiGroups: [""]
   resources:
     - pods
     - pods/log
     - nodes
     - namespaces
   verbs:
     - get
     - list
     - watch


---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
 name: vector-rolebinding
roleRef:
 apiGroup: rbac.authorization.k8s.io
 kind: ClusterRole
 name: vector-role
subjects:
 - kind: ServiceAccount
   name: vector
   namespace: ahmad-monitoring
